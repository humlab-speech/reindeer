% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/reindeeR_emuR_re-export.R
\name{requery_hier}
\alias{requery_hier}
\title{Requery the hierarchical context of a segment list. (A copy of the emuR function)}
\usage{
requery_hier(
  emuDBhandle,
  seglist,
  level,
  collapse = TRUE,
  resultType = "tibble",
  calcTimes = TRUE,
  timeRefSegmentLevel = NULL,
  verbose = FALSE
)
}
\arguments{
\item{emuDBhandle}{emuDB handle as returned by \code{\link[emuR]{load_emuDB}}}

\item{seglist}{segment list to requery on (type: \link[emuR]{emuRsegs})}

\item{level}{character string: name of target level}

\item{collapse}{collapse the found items in the requested level to a sequence (concatenated with ->). 
If set to \code{FALSE} separate items as new entries in the emuRsegs object are returned.}

\item{resultType}{type of result (either 'tibble' == default or 'emuRsegs')}

\item{calcTimes}{calculate times for resulting segments (results in \code{NA} values for start and end 
times in emuseg/emuRsegs). As it can be very computationally expensive to 
calculate the times for large nested hierarchies, it can be turned off via this boolean parameter.}

\item{timeRefSegmentLevel}{set time segment level from which to derive time information. It is only 
necessary to set this parameter if more than one child level contains time information and the queried 
parent level is of type ITEM.}

\item{verbose}{be verbose. Set this to \code{TRUE} if you wish to choose which path to traverse on intersecting 
hierarchies. If set to \code{FALSE} (the default) all paths will be traversed (= legacy EMU bahaviour).}
}
\value{
result set object of class \link[emuR]{emuRsegs} or \link{tibble}
}
\description{
Function to requery the hierarchical context of a segment list queried from an emuDB
}
\details{
A segment is defined as a single item or a chain of items from the respective level, e.g. 
if a level in a bundle instance has labels 'a', 'b' and 'c' in that order, 'a' or 'a->b' or 'a->b->c' 
are all valid segments, 'a->c' is not. For each segment of the input segment list \code{seglist} 
the function checks the start and end item for hierarchically linked items in the given target 
level, and based on them constructs segments in the target level. As the start item in the resulting 
segment the item with the lowest sequence index is chosen; for the end item that with the highest 
sequence index. If the parameter \code{collapse} is set to \code{TRUE} (the default), it is guaranteed 
that result and input segment list have the same length (for each input 
segment one or multiple segments on the target level was found). If multiple linked segments where found
they are collapsed into a sequence of segments ('a->b->c') and if no linked items where found an NA row 
is inserted.
}
\seealso{
\link[emuR:requery_hier]{emuR::requery_hier}
}
